{
    "annotations": {
      "list": [
        {
          "builtIn": 1,
          "datasource": {
            "type": "datasource",
            "uid": "grafana"
          },
          "enable": true,
          "hide": false,
          "iconColor": "#e0752d",
          "limit": 100,
          "name": "SSM Annotations",
          "showIn": 0,
          "tags": [
            "ssm_annotation"
          ],
          "type": "tags"
        },
        {
          "builtIn": 1,
          "datasource": {
            "type": "datasource",
            "uid": "grafana"
          },
          "enable": true,
          "hide": true,
          "iconColor": "#6ed0e0",
          "limit": 100,
          "name": "Annotations & Alerts",
          "showIn": 0,
          "tags": [],
          "type": "dashboard"
        }
      ]
    },
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 1,
    "id": null,
    "links": [
      {
        "icon": "dashboard",
        "includeVars": true,
        "keepTime": true,
        "tags": [
          "QAN"
        ],
        "targetBlank": false,
        "title": "Query Analytics",
        "type": "link",
        "url": "/graph/d/ssm-qan/ssm-query-analytics"
      },
      {
        "asDropdown": true,
        "includeVars": true,
        "keepTime": true,
        "tags": [
          "OS"
        ],
        "targetBlank": false,
        "title": "OS",
        "type": "dashboards"
      },
      {
        "asDropdown": true,
        "includeVars": true,
        "keepTime": true,
        "tags": [
          "MySQL"
        ],
        "targetBlank": false,
        "title": "MySQL",
        "type": "dashboards"
      },
      {
        "asDropdown": true,
        "includeVars": true,
        "keepTime": true,
        "tags": [
          "MongoDB"
        ],
        "targetBlank": false,
        "title": "MongoDB",
        "type": "dashboards"
      },
      {
        "asDropdown": true,
        "includeVars": true,
        "keepTime": true,
        "tags": [
          "PostgreSQL"
        ],
        "targetBlank": false,
        "title": "PostgreSQL",
        "type": "dashboards"
      },
      {
        "asDropdown": true,
        "includeVars": true,
        "keepTime": true,
        "tags": [
          "HA"
        ],
        "targetBlank": false,
        "title": "HA",
        "type": "dashboards"
      },
      {
        "asDropdown": true,
        "includeVars": true,
        "keepTime": true,
        "tags": [
          "Cloud"
        ],
        "targetBlank": false,
        "title": "Cloud",
        "type": "dashboards"
      },
      {
        "asDropdown": true,
        "includeVars": true,
        "keepTime": true,
        "tags": [
          "Insight"
        ],
        "targetBlank": false,
        "title": "Insight",
        "type": "dashboards"
      },
      {
        "asDropdown": true,
        "includeVars": true,
        "keepTime": true,
        "tags": [
          "SSM"
        ],
        "targetBlank": false,
        "title": "SSM",
        "type": "dashboards"
      }
    ],
    "liveNow": false,
    "panels": [
      {
        "datasource": {
          "type": "prometheus"
        },
        "description": "Displays whether the IO Thread is in the running state or not. Applies only to a Slave host. The IO Thread connects to the Master host and reads binary log events, and then copies them locally to a file called the relay log.\n\nPossible values:\n\n**Yes** – IO Thread is running and is connected to a Master\n\n**No** – The IO Thread is not running because it is not yet started, or because an error occured while connecting to the Master\n\n**Connecting** – The IO Thread is running but is not fully connected to a Master\n\n**No value** – The host is not configured to be a Slave.\n\nIO Thread Running is one of the parameters returned by **SHOW SLAVE STATUS** command.\n\nSee also:",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "decimals": 0,
            "mappings": [
              {
                "options": {
                  "0": {
                    "text": "No"
                  },
                  "1": {
                    "text": "Yes"
                  }
                },
                "type": "value"
              }
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "rgba(161, 18, 18, 0.9)",
                  "value": null
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 0.5
                },
                {
                  "color": "rgba(36, 112, 33, 0.97)",
                  "value": 1
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "hideTimeOverride": false,
        "interval": "$interval",
        "links": [
          {
            "targetBlank": true,
            "title": "Replication",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/replication.html"
          },
          {
            "targetBlank": true,
            "title": "SHOW SLAVE STATUS Syntax",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/show-slave-status.html"
          },
          {
            "targetBlank": true,
            "title": "IO Thread states",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/slave-io-thread-states.html"
          }
        ],
        "maxDataPoints": 100,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "value"
        },
        "pluginVersion": "9.5.7",
        "targets": [
          {
            "calculatedInterval": "10m",
            "datasource": {
              "type": "prometheus"
            },
            "datasourceErrors": {},
            "errors": {},
            "expr": "max((((min_over_time(mysql_slave_status_slave_io_running{instance=~\"$host\", connection_name=~\"${channel:raw}\"}[$interval]) or min_over_time(mysql_slave_status_slave_io_running{instance=~\"$host\", channel_name=~\"${channel:raw}\"}[$interval])) unless on() min_over_time(mysql_slave_status_slave_io_running{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[$interval])) or min_over_time(mysql_slave_status_slave_io_running{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[$interval])) or (((min_over_time(mysql_slave_status_slave_io_running{instance=~\"$host\", connection_name=~\"${channel:raw}\"}[5m]) or min_over_time(mysql_slave_status_slave_io_running{instance=~\"$host\", channel_name=~\"${channel:raw}\"}[5m])) unless on() min_over_time(mysql_slave_status_slave_io_running{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[5m])) or min_over_time(mysql_slave_status_slave_io_running{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[5m])))",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 300
          }
        ],
        "title": "IO Thread Running",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "prometheus"
        },
        "description": "Displays whether the SQL Thread is in the running state or not. Applies only to a Slave host. The SQL Thread reads the events from the local relay log file and applies them to the Slave host.  Depending on the format of the binary log it can read query statements (STATEMENT format) and re-executes them, or by reading row changes (ROW format) and applying only the changes.\n\nPossible values:\n\n**Yes** – The SQL Thread is running and is applying events from the relay log to the local Slave host\n\n**No** – The SQL Thread is not running because it is not yet started, or because of an error\n\nSee also:",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "decimals": 0,
            "mappings": [
              {
                "options": {
                  "0": {
                    "text": "No"
                  },
                  "1": {
                    "text": "Yes"
                  }
                },
                "type": "value"
              }
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "rgba(161, 18, 18, 0.9)",
                  "value": null
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 0.5
                },
                {
                  "color": "rgba(36, 112, 33, 0.97)",
                  "value": 1
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 3,
          "w": 6,
          "x": 6,
          "y": 0
        },
        "interval": "$interval",
        "links": [
          {
            "targetBlank": true,
            "title": "Replication",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/replication.html"
          },
          {
            "targetBlank": true,
            "title": "SHOW SLAVE STATUS Syntax",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/show-slave-status.html"
          },
          {
            "targetBlank": true,
            "title": "SQL Thread states",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/slave-sql-thread-states.html"
          }
        ],
        "maxDataPoints": 100,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "value"
        },
        "pluginVersion": "9.5.7",
        "targets": [
          {
            "calculatedInterval": "10m",
            "datasource": {
              "type": "prometheus"
            },
            "datasourceErrors": {},
            "errors": {},
            "expr": "max((((min_over_time(mysql_slave_status_slave_sql_running{instance=~\"$host\", connection_name=~\"${channel:raw}\"}[$interval]) or min_over_time(mysql_slave_status_slave_sql_running{instance=~\"$host\", channel_name=~\"${channel:raw}\"}[$interval])) unless on() min_over_time(mysql_slave_status_slave_sql_running{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[$interval])) or min_over_time(mysql_slave_status_slave_sql_running{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[$interval])) or (((min_over_time(mysql_slave_status_slave_sql_running{instance=~\"$host\", connection_name=~\"${channel:raw}\"}[5m]) or min_over_time(mysql_slave_status_slave_sql_running{instance=~\"$host\", channel_name=~\"${channel:raw}\"}[5m])) unless on() min_over_time(mysql_slave_status_slave_sql_running{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[5m])) or min_over_time(mysql_slave_status_slave_sql_running{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[5m])))",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 300
          }
        ],
        "title": "SQL Thread Running",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "prometheus"
        },
        "description": "Displays the number of the last error that the SQL Thread encountered which caused replication to stop.\n\nOne of the more common errors is \"Error: 1022 Duplicate Key Entry\". In such a case replication is attempting to update a row that already exists on the Slave. The SQL Thread will stop replication in order to avoid data corruption.\n\nSee also:",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "decimals": 0,
            "mappings": [
              {
                "options": {
                  "0": {
                    "text": "N/A"
                  }
                },
                "type": "value"
              }
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "rgba(50, 172, 45, 0.97)",
                  "value": null
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 0.5
                },
                {
                  "color": "rgba(245, 54, 54, 0.9)",
                  "value": 1
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 3,
          "w": 6,
          "x": 12,
          "y": 0
        },
        "interval": "$interval",
        "links": [
          {
            "targetBlank": true,
            "title": "List of error codes",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/error-messages-server.html"
          }
        ],
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "none",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "value"
        },
        "pluginVersion": "9.5.7",
        "targets": [
          {
            "calculatedInterval": "10m",
            "datasource": {
              "type": "prometheus"
            },
            "datasourceErrors": {},
            "errors": {},
            "expr": "max((((max_over_time(mysql_slave_status_last_errno{instance=~\"$host\", connection_name=~\"${channel:raw}\"}[$interval]) or max_over_time(mysql_slave_status_last_errno{instance=~\"$host\", channel_name=~\"${channel:raw}\"}[$interval])) unless on() max_over_time(mysql_slave_status_last_errno{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[$interval])) or max_over_time(mysql_slave_status_last_errno{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[$interval])) or (((max_over_time(mysql_slave_status_last_errno{instance=~\"$host\", connection_name=~\"${channel:raw}\"}[5m]) or max_over_time(mysql_slave_status_last_errno{instance=~\"$host\", channel_name=~\"${channel:raw}\"}[5m])) unless on() max_over_time(mysql_slave_status_last_errno{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[5m])) or max_over_time(mysql_slave_status_last_errno{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[5m])))",
            "format": "time_series",
            "hide": false,
            "instant": true,
            "interval": "5m",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 300
          }
        ],
        "title": "Replication Error No",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "prometheus"
        },
        "description": "Displays whether the host is configured to be in Read Only mode or not.\n\nPossible values:\n\n**Yes** – the host blocks client updates except from users who have the SUPER or REPLICATION SLAVE privilege.This kind of configuration is typically used on Slave hosts in a replication environment to prevent client data modification causing inconsistencies and stopping the replication process.\n\n**No** – the host is not configured for Read Only mode, and will permit local client data modification operations (if the client has appropriate privileges to the database objects).",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "decimals": 0,
            "mappings": [
              {
                "options": {
                  "0": {
                    "text": "No"
                  },
                  "1": {
                    "text": "Yes"
                  }
                },
                "type": "value"
              }
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "rgba(50, 172, 45, 0.97)",
                  "value": null
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 0.5
                },
                {
                  "color": "rgba(245, 54, 54, 0.9)",
                  "value": 1
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 3,
          "w": 6,
          "x": 18,
          "y": 0
        },
        "interval": "$interval",
        "links": [
          {
            "targetBlank": true,
            "title": "Replication",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/replication.html"
          }
        ],
        "maxDataPoints": 100,
        "options": {
          "colorMode": "none",
          "graphMode": "none",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "value"
        },
        "pluginVersion": "9.5.7",
        "targets": [
          {
            "calculatedInterval": "10m",
            "datasource": {
              "type": "prometheus"
            },
            "datasourceErrors": {},
            "errors": {},
            "expr": "min(min_over_time(mysql_global_variables_read_only{instance=~\"$host\"}[$interval]) or min_over_time(mysql_global_variables_read_only{instance=~\"$host\"}[5m]))",
            "format": "time_series",
            "interval": "5m",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 300
          }
        ],
        "title": "Read Only",
        "type": "stat"
      },
      {
        "aliasColors": {},
        "bars": false,
        "dashLength": 10,
        "dashes": false,
        "datasource": {
          "type": "prometheus"
        },
        "decimals": 0,
        "description": "Shows the number of seconds the Slave host is delayed in replication applying events compared to when the Master host applied them, denoted by the **Seconds_Behind_Master** value, and only applies to a Slave host. The most common reasons for Slaves to lag their Master are:\n\n* Network round trip time - High latency links will lead to non-zero replication lag values\n\n* Single threaded nature of replication channels - Master servers have the advantage of applying changes in parallel, whereas Slaves are only able to apply changes in serial, thus limiting their throughput.  In some cases Group Commit can help but is not always applicable.\n\n* High number of changed rows or computationally expensive SQL - Depending on the replication format (ROW vs STATEMENT), significant changes to the database through high volume of rows modified, or expensive CPU will all contribute to Slaves lagging behind their Master\n\nGenerally adding more CPU or Disk resources can alleviate replication lag issues, up to a point.\n\nIdeally a value of 0 is desired, but be aware that **Seconds_Behind_Master** is an integer value and thus rounding is a factor. If you desire greater precision, consider the Percona Toolkit tool pt-heartbeat, as this graph will automatically take into account this tool and then show you greater resolution.\n\nSee also:",
        "editable": true,
        "error": false,
        "fill": 2,
        "fillGradient": 0,
        "grid": {},
        "gridPos": {
          "h": 7,
          "w": 24,
          "x": 0,
          "y": 3
        },
        "hiddenSeries": false,
        "legend": {
          "alignAsTable": true,
          "avg": true,
          "current": false,
          "max": true,
          "min": true,
          "rightSide": true,
          "show": true,
          "total": false,
          "values": true
        },
        "lines": true,
        "linewidth": 2,
        "links": [
          {
            "targetBlank": true,
            "title": "SHOW SLAVE STATUS Syntax",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/show-slave-status.html"
          },
          {
            "targetBlank": true,
            "title": "Improving replication performance",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/replication-solutions-performance.html"
          },
          {
            "targetBlank": true,
            "title": "Replication Slave Options and Variables",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/replication-options-slave.html"
          }
        ],
        "nullPointMode": "null",
        "options": {
          "alertThreshold": true
        },
        "percentage": false,
        "pluginVersion": "9.5.7",
        "pointradius": 5,
        "points": false,
        "renderer": "flot",
        "spaceLength": 10,
        "stack": false,
        "steppedLine": false,
        "targets": [
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "datasourceErrors": {},
            "errors": {},
            "expr": "(((max_over_time(mysql_slave_status_seconds_behind_master{instance=~\"$host\", connection_name=~\"${channel:raw}\"}[$interval]) or max_over_time(mysql_slave_status_seconds_behind_master{instance=~\"$host\", channel_name=~\"${channel:raw}\"}[$interval])) unless on() max_over_time(mysql_slave_status_seconds_behind_master{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[$interval])) or max_over_time(mysql_slave_status_seconds_behind_master{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[$interval])) or (((max_over_time(mysql_slave_status_seconds_behind_master{instance=~\"$host\", connection_name=~\"${channel:raw}\"}[5m]) or max_over_time(mysql_slave_status_seconds_behind_master{instance=~\"$host\", channel_name=~\"${channel:raw}\"}[5m])) unless on() max_over_time(mysql_slave_status_seconds_behind_master{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[5m])) or max_over_time(mysql_slave_status_seconds_behind_master{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[5m]))",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": " {{ connection_name }} {{ channel_name }} ",
            "metric": "",
            "refId": "A",
            "step": 300
          }
        ],
        "thresholds": [],
        "timeRegions": [],
        "title": "MySQL Replication Delay",
        "tooltip": {
          "msResolution": false,
          "shared": true,
          "sort": 0,
          "value_type": "individual"
        },
        "type": "graph",
        "xaxis": {
          "mode": "time",
          "show": true,
          "values": []
        },
        "yaxes": [
          {
            "format": "short",
            "logBase": 1,
            "min": 0,
            "show": true
          },
          {
            "format": "short",
            "logBase": 1,
            "min": 0,
            "show": true
          }
        ],
        "yaxis": {
          "align": false
        }
      },
      {
        "aliasColors": {},
        "bars": false,
        "dashLength": 10,
        "dashes": false,
        "datasource": {
          "type": "prometheus"
        },
        "decimals": 0,
        "description": "An approximation of replication lag, see also:",
        "editable": true,
        "error": false,
        "fill": 2,
        "fillGradient": 0,
        "grid": {},
        "gridPos": {
          "h": 7,
          "w": 24,
          "x": 0,
          "y": 10
        },
        "hiddenSeries": false,
        "legend": {
          "alignAsTable": true,
          "avg": true,
          "current": false,
          "max": true,
          "min": true,
          "rightSide": true,
          "show": true,
          "total": false,
          "values": true
        },
        "lines": true,
        "linewidth": 2,
        "links": [
          {
            "targetBlank": true,
            "title": "SHOW SLAVE STATUS Syntax",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/show-slave-status.html"
          },
          {
            "targetBlank": true,
            "title": "Improving replication performance",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/replication-solutions-performance.html"
          },
          {
            "targetBlank": true,
            "title": "Replication Slave Options and Variables",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/replication-options-slave.html"
          }
        ],
        "nullPointMode": "null",
        "options": {
          "alertThreshold": true
        },
        "percentage": false,
        "pluginVersion": "9.5.7",
        "pointradius": 5,
        "points": false,
        "renderer": "flot",
        "spaceLength": 10,
        "stack": false,
        "steppedLine": false,
        "targets": [
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "datasourceErrors": {},
            "errors": {},
            "expr": "((((max_over_time(mysql_slave_status_seconds_behind_master{instance=~\"$host\", connection_name=~\"${channel:raw}\"}[$interval]) or max_over_time(mysql_slave_status_seconds_behind_master{instance=~\"$host\", channel_name=~\"${channel:raw}\"}[$interval])) unless on() max_over_time(mysql_slave_status_seconds_behind_master{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[$interval])) or max_over_time(mysql_slave_status_seconds_behind_master{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[$interval])) / ((((max_over_time(mysql_slave_status_relay_log_space{instance=~\"$host\", connection_name=~\"${channel:raw}\"}[$interval]) or max_over_time(mysql_slave_status_relay_log_space{instance=~\"$host\", channel_name=~\"${channel:raw}\"}[$interval])) unless on() max_over_time(mysql_slave_status_relay_log_space{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[$interval])) or max_over_time(mysql_slave_status_relay_log_space{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[$interval])) / (1024*1024*1024))) or ((((max_over_time(mysql_slave_status_seconds_behind_master{instance=~\"$host\", connection_name=~\"${channel:raw}\"}[5m]) or max_over_time(mysql_slave_status_seconds_behind_master{instance=~\"$host\", channel_name=~\"${channel:raw}\"}[5m])) unless on() max_over_time(mysql_slave_status_seconds_behind_master{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[5m])) or max_over_time(mysql_slave_status_seconds_behind_master{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[5m])) / ((((max_over_time(mysql_slave_status_relay_log_space{instance=~\"$host\", connection_name=~\"${channel:raw}\"}[5m]) or max_over_time(mysql_slave_status_relay_log_space{instance=~\"$host\", channel_name=~\"${channel:raw}\"}[5m])) unless on() max_over_time(mysql_slave_status_relay_log_space{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[5m])) or max_over_time(mysql_slave_status_relay_log_space{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[5m])) / (1024*1024*1024)))",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": " {{ connection_name }} {{ channel_name }} ",
            "metric": "",
            "refId": "A",
            "step": 300
          }
        ],
        "thresholds": [],
        "timeRegions": [],
        "title": "MySQL Relay Lag",
        "tooltip": {
          "msResolution": false,
          "shared": true,
          "sort": 0,
          "value_type": "individual"
        },
        "type": "graph",
        "xaxis": {
          "mode": "time",
          "show": true,
          "values": []
        },
        "yaxes": [
          {
            "format": "short",
            "logBase": 1,
            "min": 0,
            "show": true
          },
          {
            "format": "short",
            "logBase": 1,
            "min": 0,
            "show": true
          }
        ],
        "yaxis": {
          "align": false
        }
      },
      {
        "aliasColors": {},
        "bars": false,
        "dashLength": 10,
        "dashes": false,
        "datasource": {
          "type": "prometheus"
        },
        "description": "Shows the overall size of the binary log files, which can exist on both Masters and Slaves. The binary log (also known as the binlog) contains events that describe database changes: CREATE TABLE, ALTER TABLE, updates, inserts, deletes and other statements or database changes. The binlog is the file that is read by Slaves via their IO Thread process in order to replicate database changes modification on the data and on the table structures. There can be more than one binlog file present depending on the binlog rotation policy adopted (for example using the configuration variables **max_binlog_size** and **expire_logs_days**).\n\nSee also:",
        "editable": true,
        "error": false,
        "fill": 2,
        "fillGradient": 0,
        "grid": {},
        "gridPos": {
          "h": 7,
          "w": 12,
          "x": 0,
          "y": 17
        },
        "hiddenSeries": false,
        "legend": {
          "alignAsTable": true,
          "avg": true,
          "current": false,
          "max": true,
          "min": true,
          "rightSide": false,
          "show": true,
          "total": false,
          "values": true
        },
        "lines": true,
        "linewidth": 2,
        "links": [
          {
            "targetBlank": true,
            "title": "The binary log",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/binary-log.html"
          },
          {
            "targetBlank": true,
            "title": "Configuring replication",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/replication-configuration.html"
          }
        ],
        "nullPointMode": "null",
        "options": {
          "alertThreshold": true
        },
        "percentage": false,
        "pluginVersion": "9.5.7",
        "pointradius": 5,
        "points": false,
        "renderer": "flot",
        "seriesOverrides": [
          {
            "alias": "Size",
            "color": "#1F78C1"
          }
        ],
        "spaceLength": 10,
        "stack": false,
        "steppedLine": false,
        "targets": [
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "datasourceErrors": {},
            "errors": {},
            "expr": "max_over_time(mysql_binlog_size_bytes{instance=~\"$host\"}[$interval]) or max_over_time(mysql_binlog_size_bytes{instance=~\"$host\"}[5m])",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": "Size",
            "metric": "",
            "refId": "A",
            "step": 300
          }
        ],
        "thresholds": [],
        "timeRegions": [],
        "title": "Binlogs Size",
        "tooltip": {
          "msResolution": false,
          "shared": true,
          "sort": 0,
          "value_type": "individual"
        },
        "type": "graph",
        "xaxis": {
          "mode": "time",
          "show": true,
          "values": []
        },
        "yaxes": [
          {
            "format": "bytes",
            "logBase": 1,
            "min": 0,
            "show": true
          },
          {
            "format": "bytes",
            "logBase": 1,
            "min": 0,
            "show": true
          }
        ],
        "yaxis": {
          "align": false
        }
      },
      {
        "aliasColors": {},
        "bars": true,
        "dashLength": 10,
        "dashes": false,
        "datasource": {
          "type": "prometheus"
        },
        "decimals": 2,
        "description": "Shows the amount of data written to the binlog files, grouped into hourly buckets. This graph can give you an idea of the amount of changes to your data.",
        "editable": true,
        "error": false,
        "fill": 2,
        "fillGradient": 0,
        "grid": {},
        "gridPos": {
          "h": 7,
          "w": 12,
          "x": 12,
          "y": 17
        },
        "hiddenSeries": false,
        "legend": {
          "alignAsTable": false,
          "avg": false,
          "current": false,
          "max": false,
          "min": false,
          "rightSide": false,
          "show": false,
          "total": false,
          "values": false
        },
        "lines": false,
        "linewidth": 2,
        "links": [],
        "nullPointMode": "null",
        "options": {
          "alertThreshold": true
        },
        "percentage": false,
        "pluginVersion": "9.5.7",
        "pointradius": 5,
        "points": false,
        "renderer": "flot",
        "seriesOverrides": [
          {
            "alias": "Size",
            "color": "#1F78C1"
          }
        ],
        "spaceLength": 10,
        "stack": false,
        "steppedLine": false,
        "targets": [
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "datasourceErrors": {},
            "errors": {},
            "expr": "increase(mysql_binlog_size_bytes{instance=~\"$host\"}[1h])",
            "format": "time_series",
            "interval": "1h",
            "intervalFactor": 1,
            "legendFormat": "Size",
            "metric": "",
            "refId": "A",
            "step": 3600
          }
        ],
        "thresholds": [],
        "timeFrom": "24h",
        "timeRegions": [],
        "title": "Binlog Data Written Hourly",
        "tooltip": {
          "msResolution": false,
          "shared": true,
          "sort": 0,
          "value_type": "individual"
        },
        "type": "graph",
        "xaxis": {
          "mode": "time",
          "show": true,
          "values": []
        },
        "yaxes": [
          {
            "format": "bytes",
            "logBase": 1,
            "min": 0,
            "show": true
          },
          {
            "format": "bytes",
            "logBase": 1,
            "min": 0,
            "show": true
          }
        ],
        "yaxis": {
          "align": false
        }
      },
      {
        "aliasColors": {},
        "bars": false,
        "dashLength": 10,
        "dashes": false,
        "datasource": {
          "type": "prometheus"
        },
        "decimals": 0,
        "description": "Shows the overall count of binary log files, which can exist on both Masters and Slaves. The binary log (also known as the binlog) contains events that describe database changes: CREATE TABLE, ALTER TABLE, updates, inserts, deletes and other statements or database changes. The binlog is the file that is read by Slaves via their IO Thread process in order to replicate database changes modification on the data and on the table structures. There can be more than one binlog file present depending on the binlog rotation policy adopted (for example using the configuration variables **max_binlog_size** and **expire_logs_days**).\n\nSee also:",
        "editable": true,
        "error": false,
        "fill": 2,
        "fillGradient": 0,
        "grid": {},
        "gridPos": {
          "h": 7,
          "w": 12,
          "x": 0,
          "y": 24
        },
        "hiddenSeries": false,
        "legend": {
          "alignAsTable": true,
          "avg": true,
          "current": false,
          "max": true,
          "min": true,
          "rightSide": false,
          "show": true,
          "total": false,
          "values": true
        },
        "lines": true,
        "linewidth": 2,
        "links": [
          {
            "targetBlank": true,
            "title": "The binary log",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/binary-log.html"
          },
          {
            "targetBlank": true,
            "title": "Configuring replication",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/replication-configuration.html"
          }
        ],
        "nullPointMode": "null",
        "options": {
          "alertThreshold": true
        },
        "percentage": false,
        "pluginVersion": "9.5.7",
        "pointradius": 5,
        "points": false,
        "renderer": "flot",
        "seriesOverrides": [
          {
            "alias": "Count",
            "color": "#E0752D"
          }
        ],
        "spaceLength": 10,
        "stack": false,
        "steppedLine": false,
        "targets": [
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "datasourceErrors": {},
            "errors": {},
            "expr": "max_over_time(mysql_binlog_files{instance=~\"$host\"}[$interval]) or max_over_time(mysql_binlog_files{instance=~\"$host\"}[5m])",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": "Count",
            "metric": "",
            "refId": "A",
            "step": 300
          }
        ],
        "thresholds": [],
        "timeRegions": [],
        "title": "Binlogs Count",
        "tooltip": {
          "msResolution": false,
          "shared": true,
          "sort": 0,
          "value_type": "individual"
        },
        "type": "graph",
        "xaxis": {
          "mode": "time",
          "show": true,
          "values": []
        },
        "yaxes": [
          {
            "format": "none",
            "logBase": 1,
            "min": 0,
            "show": true
          },
          {
            "format": "none",
            "logBase": 1,
            "min": 0,
            "show": true
          }
        ],
        "yaxis": {
          "align": false
        }
      },
      {
        "aliasColors": {},
        "bars": true,
        "dashLength": 10,
        "dashes": false,
        "datasource": {
          "type": "prometheus"
        },
        "decimals": 0,
        "description": "Shows the number of binlog files created hourly. The number depends on the rotation policy adopted using the configuration variables **max_binlog_size** and **expire_logs_days**.",
        "editable": true,
        "error": false,
        "fill": 2,
        "fillGradient": 0,
        "grid": {},
        "gridPos": {
          "h": 7,
          "w": 12,
          "x": 12,
          "y": 24
        },
        "hiddenSeries": false,
        "legend": {
          "alignAsTable": false,
          "avg": false,
          "current": false,
          "max": false,
          "min": false,
          "rightSide": false,
          "show": false,
          "total": false,
          "values": false
        },
        "lines": false,
        "linewidth": 2,
        "links": [],
        "nullPointMode": "null",
        "options": {
          "alertThreshold": true
        },
        "percentage": false,
        "pluginVersion": "9.5.7",
        "pointradius": 5,
        "points": false,
        "renderer": "flot",
        "seriesOverrides": [
          {
            "alias": "Count",
            "color": "#E0752D"
          }
        ],
        "spaceLength": 10,
        "stack": false,
        "steppedLine": false,
        "targets": [
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "datasourceErrors": {},
            "errors": {},
            "expr": "increase(mysql_binlog_file_number{instance=~\"$host\"}[1h])",
            "format": "time_series",
            "interval": "1h",
            "intervalFactor": 1,
            "legendFormat": "Count",
            "metric": "",
            "refId": "A",
            "step": 3600
          }
        ],
        "thresholds": [],
        "timeFrom": "24h",
        "timeRegions": [],
        "title": "Binlogs Created Hourly",
        "tooltip": {
          "msResolution": false,
          "shared": true,
          "sort": 0,
          "value_type": "individual"
        },
        "type": "graph",
        "xaxis": {
          "mode": "time",
          "show": true,
          "values": []
        },
        "yaxes": [
          {
            "decimals": 0,
            "format": "none",
            "logBase": 1,
            "min": 0,
            "show": true
          },
          {
            "format": "none",
            "logBase": 1,
            "min": 0,
            "show": true
          }
        ],
        "yaxis": {
          "align": false
        }
      },
      {
        "aliasColors": {},
        "bars": false,
        "dashLength": 10,
        "dashes": false,
        "datasource": {
          "type": "prometheus"
        },
        "description": "Shows the overall size of the relay log files, and applies only to Slaves. The relay log consists of a set of numbered files containing the events to be executed on a Slave in order to replicate database changes.  As soon as the SQL Thread completes execution of all events in a relay log file, the relay log file is then deleted by MySQL.\n\nSee also:",
        "editable": true,
        "error": false,
        "fill": 2,
        "grid": {},
        "gridPos": {
          "h": 7,
          "w": 12,
          "x": 0,
          "y": 31
        },
        "legend": {
          "alignAsTable": true,
          "avg": true,
          "current": false,
          "max": true,
          "min": true,
          "rightSide": false,
          "show": true,
          "total": false,
          "values": true
        },
        "lines": true,
        "linewidth": 2,
        "links": [
          {
            "targetBlank": true,
            "title": "The Slave Relay Log",
            "url": "https://dev.mysql.com/doc/refman/5.7/en/slave-logs-relaylog.html"
          }
        ],
        "nullPointMode": "null",
        "percentage": false,
        "pointradius": 5,
        "points": false,
        "renderer": "flot",
        "seriesOverrides": [],
        "spaceLength": 10,
        "stack": false,
        "steppedLine": false,
        "targets": [
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "datasourceErrors": {},
            "errors": {},
            "expr": "(((max_over_time(mysql_slave_status_relay_log_space{instance=~\"$host\", connection_name=~\"${channel:raw}\"}[$interval]) or max_over_time(mysql_slave_status_relay_log_space{instance=~\"$host\", channel_name=~\"${channel:raw}\"}[$interval])) unless on() max_over_time(mysql_slave_status_relay_log_space{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[$interval])) or max_over_time(mysql_slave_status_relay_log_space{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[$interval])) or (((max_over_time(mysql_slave_status_relay_log_space{instance=~\"$host\", connection_name=~\"${channel:raw}\"}[5m]) or max_over_time(mysql_slave_status_relay_log_space{instance=~\"$host\", channel_name=~\"${channel:raw}\"}[5m])) unless on() max_over_time(mysql_slave_status_relay_log_space{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[5m])) or max_over_time(mysql_slave_status_relay_log_space{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[5m]))",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": " {{ connection_name }} {{ channel_name }} ",
            "metric": "",
            "refId": "A",
            "step": 300
          }
        ],
        "thresholds": [],
        "title": "Relay Log Space",
        "tooltip": {
          "msResolution": false,
          "shared": true,
          "sort": 0,
          "value_type": "individual"
        },
        "type": "graph",
        "xaxis": {
          "mode": "time",
          "show": true,
          "values": []
        },
        "yaxes": [
          {
            "format": "bytes",
            "logBase": 1,
            "min": 0,
            "show": true
          },
          {
            "format": "bytes",
            "logBase": 1,
            "min": 0,
            "show": true
          }
        ],
        "yaxis": {
          "align": false
        }
      },
      {
        "aliasColors": {},
        "bars": true,
        "dashLength": 10,
        "dashes": false,
        "datasource": {
          "type": "prometheus"
        },
        "decimals": 2,
        "description": "Shows the amount of data written hourly to the relay log files.",
        "editable": true,
        "error": false,
        "fill": 2,
        "grid": {},
        "gridPos": {
          "h": 7,
          "w": 12,
          "x": 12,
          "y": 31
        },
        "legend": {
          "alignAsTable": true,
          "avg": true,
          "current": false,
          "max": true,
          "min": true,
          "rightSide": false,
          "show": true,
          "total": false,
          "values": true
        },
        "lines": false,
        "linewidth": 2,
        "links": [],
        "nullPointMode": "null",
        "percentage": false,
        "pointradius": 5,
        "points": false,
        "renderer": "flot",
        "seriesOverrides": [],
        "spaceLength": 10,
        "stack": false,
        "steppedLine": false,
        "targets": [
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "datasourceErrors": {},
            "errors": {},
            "expr": "((increase(mysql_slave_status_relay_log_space{instance=~\"$host\", connection_name=~\"${channel:raw}\"}[1h]) or increase(mysql_slave_status_relay_log_space{instance=~\"$host\", channel_name=~\"${channel:raw}\"}[1h])) unless on() increase(mysql_slave_status_relay_log_space{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[1h])) or increase(mysql_slave_status_relay_log_space{instance=~\"$host\", connection_name=~\"${channel:raw}\", channel_name=~\"${channel:raw}\"}[1h])",
            "format": "time_series",
            "interval": "1h",
            "intervalFactor": 1,
            "legendFormat": " {{ connection_name }} {{ channel_name }} ",
            "metric": "",
            "refId": "A",
            "step": 3600
          }
        ],
        "thresholds": [],
        "timeFrom": "24h",
        "title": "Relay Log Written Hourly",
        "tooltip": {
          "msResolution": false,
          "shared": true,
          "sort": 0,
          "value_type": "individual"
        },
        "type": "graph",
        "xaxis": {
          "mode": "time",
          "show": true,
          "values": []
        },
        "yaxes": [
          {
            "format": "bytes",
            "logBase": 1,
            "min": 0,
            "show": true
          },
          {
            "format": "bytes",
            "logBase": 1,
            "min": 0,
            "show": true
          }
        ],
        "yaxis": {
          "align": false
        }
      },
      {
        "aliasColors": {},
        "bars": false,
        "dashLength": 10,
        "dashes": false,
        "datasource": {
          "type": "prometheus"
        },
        "decimals": 2,
        "description": "The Binlog Cache Status graph shows the binary log cache status. \n\nNote: If you do not see any metric, try running: ``SET sql_log_bin = 1;`` in the MySQL client.",
        "editable": true,
        "error": false,
        "fill": 2,
        "grid": {
          "leftLogBase": 1,
          "leftMin": 0,
          "rightLogBase": 1,
          "rightMin": 0
        },
        "gridPos": {
          "h": 7,
          "w": 12,
          "x": 0,
          "y": 38
        },
        "legend": {
          "alignAsTable": true,
          "avg": true,
          "current": false,
          "hideEmpty": false,
          "hideZero": false,
          "max": true,
          "min": true,
          "rightSide": false,
          "show": true,
          "sort": "avg",
          "sortDesc": true,
          "total": false,
          "values": true
        },
        "lines": true,
        "linewidth": 2,
        "links": [],
        "nullPointMode": "null",
        "percentage": false,
        "pointradius": 1,
        "points": false,
        "renderer": "flot",
        "seriesOverrides": [
          {
            "alias": "Binlog Cache - Hit Ratio",
            "yaxis": 2
          }
        ],
        "spaceLength": 10,
        "stack": false,
        "steppedLine": true,
        "targets": [
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "datasourceErrors": {},
            "errors": {},
            "expr": "rate(mysql_global_status_binlog_cache_use{instance=~\"$host\"}[$interval]) or\nirate(mysql_global_status_binlog_cache_use{instance=~\"$host\"}[5m])",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": "Binlog Cache - Hits",
            "metric": "",
            "refId": "B",
            "step": 300
          },
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "expr": "rate(mysql_global_status_binlog_cache_disk_use{instance=~\"$host\"}[$interval]) or\nirate(mysql_global_status_binlog_cache_disk_use{instance=~\"$host\"}[5m])",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": "Binlog Cache - Misses",
            "refId": "A",
            "step": 300
          },
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "expr": "(rate(mysql_global_status_binlog_cache_use{instance=~\"$host\"}[$interval]))/\n(rate(mysql_global_status_binlog_cache_use{instance=~\"$host\"}[$interval])+\nrate(mysql_global_status_binlog_cache_disk_use{instance=~\"$host\"}[$interval])) or\n(irate(mysql_global_status_binlog_cache_use{instance=~\"$host\"}[5m]))/\n(irate(mysql_global_status_binlog_cache_use{instance=~\"$host\"}[5m])+\nirate(mysql_global_status_binlog_cache_disk_use{instance=~\"$host\"}[5m]))",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": "Binlog Cache - Hit Ratio",
            "refId": "C",
            "step": 300
          }
        ],
        "transformations": [
          {
            "id": "convertFieldType",
            "options": {
              "conversions": [
                {
                  "destinationType": "number",
                  "targetField": "Binlog Cache - Hit Ratio"
                }
              ],
              "fields": {}
            }
          }
        ],
        "thresholds": [],
        "timeRegions": [],
        "title": "Binlog Cache Status",
        "tooltip": {
          "msResolution": false,
          "shared": true,
          "sort": 0,
          "value_type": "individual"
        },
        "type": "graph",
        "x-axis": true,
        "xaxis": {
          "mode": "time",
          "show": true,
          "values": []
        },
        "y-axis": true,
        "y_formats": [
          "short",
          "percentunit"
        ],
        "yaxes": [
          {
            "format": "short",
            "logBase": 1,
            "min": 0,
            "show": true
          },
          {
            "format": "percentunit",
            "label": "",
            "logBase": 1,
            "min": 0,
            "show": true
          }
        ],
        "yaxis": {
          "align": false
        }
      },
      {
        "aliasColors": {},
        "bars": false,
        "dashLength": 10,
        "dashes": false,
        "datasource": {
          "type": "prometheus"
        },
        "decimals": 2,
        "description": "The Binlog Cache Size graph shows the binary log cache size. \n\nNote: If you do not see any metric, try running: ``SET sql_log_bin = 1;`` in the MySQL client.",
        "editable": true,
        "error": false,
        "fill": 2,
        "grid": {
          "leftLogBase": 1,
          "leftMin": 0,
          "rightLogBase": 1,
          "rightMin": 0
        },
        "gridPos": {
          "h": 7,
          "w": 12,
          "x": 12,
          "y": 38
        },
        "legend": {
          "alignAsTable": true,
          "avg": true,
          "current": false,
          "hideEmpty": false,
          "hideZero": false,
          "max": true,
          "min": true,
          "rightSide": false,
          "show": true,
          "sort": "avg",
          "sortDesc": true,
          "total": false,
          "values": true
        },
        "lines": true,
        "linewidth": 2,
        "links": [],
        "nullPointMode": "null",
        "percentage": false,
        "pointradius": 1,
        "points": false,
        "renderer": "flot",
        "seriesOverrides": [],
        "spaceLength": 10,
        "stack": false,
        "steppedLine": true,
        "targets": [
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "datasourceErrors": {},
            "errors": {},
            "expr": "rate(mysql_global_variables_binlog_cache_size{instance=~\"$host\"}[$interval]) or\nirate(mysql_global_variables_binlog_cache_size{instance=~\"$host\"}[5m])",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": "Binlog Cache - Size",
            "metric": "",
            "refId": "B",
            "step": 300
          },
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "expr": "increase(mysql_binlog_size_bytes{instance=~\"$host\"}[$interval]) or\nincrease(mysql_binlog_size_bytes{instance=~\"$host\"}[5m])",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": "Binlog - Bytes Written",
            "refId": "A",
            "step": 300
          }
        ],
        "thresholds": [],
        "timeRegions": [],
        "title": "Binlog Cache Size",
        "tooltip": {
          "msResolution": false,
          "shared": true,
          "sort": 0,
          "value_type": "individual"
        },
        "type": "graph",
        "x-axis": true,
        "xaxis": {
          "mode": "time",
          "show": true,
          "values": []
        },
        "y-axis": true,
        "yaxes": [
          {
            "format": "bytes",
            "logBase": 1,
            "min": 0,
            "show": true
          },
          {
            "format": "bytes",
            "logBase": 1,
            "show": true
          }
        ],
        "yaxis": {
          "align": false
        }
      },
      {
        "aliasColors": {},
        "bars": false,
        "dashLength": 10,
        "dashes": false,
        "datasource": {
          "type": "prometheus"
        },
        "decimals": 2,
        "description": "The Binlog Stmt Cache Status graph shows the binary log stmt cache status. \n\nNote: If you do not see any metric, try running: ``SET sql_log_bin = 1;`` in the MySQL client.",
        "editable": true,
        "error": false,
        "fill": 2,
        "grid": {
          "leftLogBase": 1,
          "leftMin": 0,
          "rightLogBase": 1,
          "rightMin": 0
        },
        "gridPos": {
          "h": 7,
          "w": 12,
          "x": 0,
          "y": 45
        },
        "legend": {
          "alignAsTable": true,
          "avg": true,
          "current": false,
          "hideEmpty": false,
          "hideZero": false,
          "max": true,
          "min": true,
          "rightSide": false,
          "show": true,
          "sort": "avg",
          "sortDesc": true,
          "total": false,
          "values": true
        },
        "lines": true,
        "linewidth": 2,
        "links": [],
        "nullPointMode": "null",
        "percentage": false,
        "pointradius": 1,
        "points": false,
        "renderer": "flot",
        "seriesOverrides": [
          {
            "alias": "Binlog Stmt Cache - Hit Ratio",
            "yaxis": 2
          }
        ],
        "spaceLength": 10,
        "stack": false,
        "steppedLine": true,
        "targets": [
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "datasourceErrors": {},
            "errors": {},
            "expr": "rate(mysql_global_status_binlog_stmt_cache_use{instance=~\"$host\"}[$interval]) or\nirate(mysql_global_status_binlog_stmt_cache_use{instance=~\"$host\"}[5m])",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": "Binlog Stmt Cache - Hits",
            "metric": "",
            "refId": "B",
            "step": 300
          },
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "expr": "rate(mysql_global_status_binlog_stmt_cache_disk_use{instance=~\"$host\"}[$interval]) or\nirate(mysql_global_status_binlog_stmt_cache_disk_use{instance=~\"$host\"}[5m])",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": "Binlog Stmt Cache - Misses",
            "refId": "A",
            "step": 300
          },
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "expr": "(rate(mysql_global_status_binlog_stmt_cache_use{instance=~\"$host\"}[$interval]))/\n(rate(mysql_global_status_binlog_stmt_cache_use{instance=~\"$host\"}[$interval])+\nrate(mysql_global_status_binlog_stmt_cache_disk_use{instance=~\"$host\"}[$interval])) or\n(irate(mysql_global_status_binlog_stmt_cache_use{instance=~\"$host\"}[5m]))/\n(irate(mysql_global_status_binlog_stmt_cache_use{instance=~\"$host\"}[5m])+\nirate(mysql_global_status_binlog_stmt_cache_disk_use{instance=~\"$host\"}[5m]))",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": "Binlog Stmt Cache - Hit Ratio",
            "refId": "C",
            "step": 300
          }
        ],
        "transformations": [
          {
            "id": "convertFieldType",
            "options": {
              "conversions": [
                {
                  "destinationType": "number",
                  "targetField": "Binlog Stmt Cache - Hit Ratio"
                }
              ],
              "fields": {}
            }
          }
        ],
        "thresholds": [],
        "timeRegions": [],
        "title": "Binlog Stmt Cache Status",
        "tooltip": {
          "msResolution": false,
          "shared": true,
          "sort": 0,
          "value_type": "individual"
        },
        "type": "graph",
        "x-axis": true,
        "xaxis": {
          "mode": "time",
          "show": true,
          "values": []
        },
        "y-axis": true,
        "y_formats": [
          "short",
          "percentunit"
        ],
        "yaxes": [
          {
            "format": "short",
            "logBase": 1,
            "min": 0,
            "show": true
          },
          {
            "format": "percentunit",
            "label": "",
            "logBase": 1,
            "min": 0,
            "show": true
          }
        ],
        "yaxis": {
          "align": false
        }
      },
      {
        "aliasColors": {},
        "bars": false,
        "dashLength": 10,
        "dashes": false,
        "datasource": {
          "type": "prometheus"
        },
        "decimals": 2,
        "description": "The Binlog Stmt Cache Size graph shows the binary log stmt cache size. \n\nNote: If you do not see any metric, try running: ``SET sql_log_bin = 1;`` in the MySQL client.",
        "editable": true,
        "error": false,
        "fill": 2,
        "grid": {
          "leftLogBase": 1,
          "leftMin": 0,
          "rightLogBase": 1,
          "rightMin": 0
        },
        "gridPos": {
          "h": 7,
          "w": 12,
          "x": 12,
          "y": 45
        },
        "legend": {
          "alignAsTable": true,
          "avg": true,
          "current": false,
          "hideEmpty": false,
          "hideZero": false,
          "max": true,
          "min": true,
          "rightSide": false,
          "show": true,
          "sort": "avg",
          "sortDesc": true,
          "total": false,
          "values": true
        },
        "lines": true,
        "linewidth": 2,
        "links": [],
        "nullPointMode": "null",
        "percentage": false,
        "pointradius": 1,
        "points": false,
        "renderer": "flot",
        "seriesOverrides": [],
        "spaceLength": 10,
        "stack": false,
        "steppedLine": true,
        "targets": [
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "datasourceErrors": {},
            "errors": {},
            "expr": "rate(mysql_global_variables_binlog_stmt_cache_size{instance=~\"$host\"}[$interval]) or\nirate(mysql_global_variables_binlog_stmt_cache_size{instance=~\"$host\"}[5m])",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": "Binlog Stmt Cache - Size",
            "metric": "",
            "refId": "B",
            "step": 300
          },
          {
            "calculatedInterval": "2m",
            "datasource": {
              "type": "prometheus"
            },
            "expr": "increase(mysql_binlog_size_bytes{instance=~\"$host\"}[$interval]) or\nincrease(mysql_binlog_size_bytes{instance=~\"$host\"}[5m])",
            "format": "time_series",
            "interval": "$interval",
            "intervalFactor": 1,
            "legendFormat": "Binlog - Bytes Written",
            "refId": "A",
            "step": 300
          }
        ],
        "thresholds": [],
        "timeRegions": [],
        "title": "Binlog Stmt Cache Size",
        "tooltip": {
          "msResolution": false,
          "shared": true,
          "sort": 0,
          "value_type": "individual"
        },
        "type": "graph",
        "x-axis": true,
        "xaxis": {
          "mode": "time",
          "show": true,
          "values": []
        },
        "y-axis": true,
        "yaxes": [
          {
            "format": "bytes",
            "logBase": 1,
            "min": 0,
            "show": true
          },
          {
            "format": "bytes",
            "logBase": 1,
            "show": true
          }
        ],
        "yaxis": {
          "align": false
        }
      }
    ],
    "refresh": "1m",
    "schemaVersion": 38,
    "style": "dark",
    "tags": [
      "Percona",
      "MySQL"
    ],
    "templating": {
      "list": [
        {
          "allFormat": "glob",
          "auto": true,
          "auto_count": 200,
          "auto_min": "1s",
          "current": {
            "selected": false,
            "text": "auto",
            "value": "$__auto_interval_interval"
          },
          "datasource": "Prometheus",
          "hide": 0,
          "includeAll": false,
          "label": "Interval",
          "multi": false,
          "multiFormat": "glob",
          "name": "interval",
          "options": [
            {
              "selected": true,
              "text": "auto",
              "value": "$__auto_interval_interval"
            },
            {
              "selected": false,
              "text": "1s",
              "value": "1s"
            },
            {
              "selected": false,
              "text": "5s",
              "value": "5s"
            },
            {
              "selected": false,
              "text": "1m",
              "value": "1m"
            },
            {
              "selected": false,
              "text": "5m",
              "value": "5m"
            },
            {
              "selected": false,
              "text": "1h",
              "value": "1h"
            },
            {
              "selected": false,
              "text": "6h",
              "value": "6h"
            },
            {
              "selected": false,
              "text": "1d",
              "value": "1d"
            }
          ],
          "query": "1s,5s,1m,5m,1h,6h,1d",
          "refresh": 2,
          "skipUrlSync": false,
          "type": "interval"
        },
        {
          "allFormat": "glob",
          "current": {
            "isNone": true,
            "selected": false,
            "text": "None",
            "value": ""
          },
          "datasource": {
            "type": "prometheus"
          },
          "definition": "",
          "hide": 0,
          "includeAll": false,
          "label": "Host",
          "multi": false,
          "multiFormat": "regex values",
          "name": "host",
          "options": [],
          "query": "label_values({__name__=~\"(mysql_binlog_files|mysql_slave_status_seconds_behind_master)\"}, instance)",
          "refresh": 2,
          "refresh_on_load": false,
          "regex": "",
          "skipUrlSync": false,
          "sort": 1,
          "type": "query",
          "useTags": false
        },
        {
          "allFormat": "glob",
          "allValue": ".*",
          "current": {
            "selected": true,
            "text": "ALL",
            "value": "$__all"
          },
          "datasource": {
            "type": "prometheus"
          },
          "definition": "",
          "hide": 0,
          "includeAll": true,
          "label": "Channel",
          "multi": false,
          "name": "channel",
          "options": [],
          "query": "label_values({__name__=~\"mysql_slave_status_dummy_channel_name\", instance=~\"$host\"}, channel)",
          "refresh": 2,
          "refresh_on_load": false,
          "regex": "/^(?<value>\\^\\$)?(?<text>.*)$/",
          "skipUrlSync": false,
          "sort": 1,
          "type": "query",
          "useTags": false
        }
      ]
    },
    "time": {
      "from": "now-12h",
      "to": "now"
    },
    "timepicker": {
      "collapse": false,
      "enable": true,
      "hidden": false,
      "notice": false,
      "now": true,
      "refresh_intervals": [
        "5s",
        "10s",
        "30s",
        "1m",
        "5m",
        "15m",
        "30m",
        "1h",
        "2h",
        "1d"
      ],
      "status": "Stable",
      "time_options": [
        "5m",
        "15m",
        "1h",
        "6h",
        "12h",
        "24h",
        "2d",
        "7d",
        "30d"
      ],
      "type": "timepicker"
    },
    "timezone": "browser",
    "title": "MySQL Replication",
    "uid": "ssm-mysql-replication",
    "version": 1,
    "weekStart": ""
  }